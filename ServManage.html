<html>
  <head>
    <link rel="stylesheet" href="css/ServManagecss.css" />
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>


  </head>
  <body>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.2/dist/vue.js"></script>
<div id = "wrap">
    <div class="tab_menu">

      <div class="tab-list">
        <div id="tb_1" class="tabmenu active">
            <a href="javascript:oksSwitchTab('tb_1', 'svr_manage');"> 연산서버 관리</a>
        </div>
        <div id="tb_2" class="tabmenu">
            <a href="javascript:oksSwitchTab('tb_2', 'content_2');"> 데이터스키마 관리</a>
        </div>
        <div id="tb_3" class="tabmenu">
            <a href="javascript:oksSwitchTab('tb_3', 'content_3');"> Job 생성/관리</a>
        </div>
        <div id="tb_4" class="tabmenu">
            <a href="javascript:oksSwitchTab('tb_4', 'content_4');"> Task 등록/관리</a>
        </div>
      </div>

    </div>

    <div id="content_2" class="tabcontent" style="display:none;">content 2</div>
    <div id="content_3" class="tabcontent" style="display:none;">content 3</div>
    <div id="content_4" class="tabcontent" style="display:none;">content 4</div>

    <div id = "svr_manage" class = "tabcontent">

      <!--<div id = "header">-->
      <div style="margin-bottom : 20px;">
        <div id="header_title">COMPUTING SERVER MANAGEMENT</div>
      </div>

      <div id = "view_section">
        <view-section></view-section>
      </div>

      <div id = "input_section">
        <input-section></input-section>
      </div>

    </div>
    <script type="text/x-template" id="view-template">
      <table id="list_table">
      <colgroup>

        	<col style="width: 5%"> <!-- ID -->
        	<col style="width: 10%"> <!-- Input port -->
        	<col style="width: 10%"> <!-- root ID -->
        	<col style="width: 10%"> <!-- password -->
          <col style="width: 20%"> <!-- status -->
          <col style="width: 10%"> <!-- root ID -->
        	<col style="width: 10%"> <!-- password -->
          <col style="width: 10%"> <!-- status -->
          <col style="width: 5%"> <!-- delete -->
          <col style="width: 5%"> <!-- show -->
        </colgroup>
        <thead>
          <th id="svr_list_header" colspan = 11> Compute Server List</th>
        	<tr>
        		<th class="svr_list_title">ID</th>
        		<th class="svr_list_title">INPUT PORT</th>
        		<th class="svr_list_title">root ID</th>
        		<th class="svr_list_title">PASSWORD</th>
            <th class="svr_list_title">STATUS(CPU, Memory)</th>
            <th class="svr_list_title">Role</th>
        		<th class="svr_list_title">Out Com ID</th>
        		<th class="svr_list_title">Module</th>
            <th class="svr_list_title">Description</th>
            <th class="svr_list_title">Delete</th>
            <th class="svr_list_title">Link</th>
        	</tr>
        </thead>
        <tbody>
        	<tr style="display:none;">
        		<td>0</td>
        		<td></td>
        		<td></td>
            <td></td>
            <td></td>
        		<td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        		<td></td>
        			<!--<a href="#" class="delete-link">삭제</a>
        		</td>-->
        	</tr>
        </tbody>
      </table>
    </script>

    <script type="text/x-template" id="input-template">

      <div id="data_append">
        <h3> Data Append </h3>
        <tr style="display:none;">
          <td> Input  </td>
          <td> <input class="input_box" type="text" id="add_ID"> </td>
        </tr>
        <tr>
          <td> Input Port </td>
          <td> <input class="input_box" type="text" id="add_Port"> </td>
        </tr>
        <tr>
          <td> root ID </td>
          <td> <input class="input_box" type="text" id="add_RootID"> </td>
        </tr>
        <tr>
          <td> Password </td>
          <td> <input class="input_box" type="text" id="add_Password"> </td>
        </tr>
        <tr>
          <td> Role </td>
          <td> <input class="input_box" type="text" id="add_Role"> </td>
        </tr>
        <tr>
          <td> Output Comp ID </td>
          <td> <input class="input_box" type="text" id="add_OutCompID"> </td>
        </tr>
        <tr>
          <td> Module Name </td>
          <td> <input class="input_box" type="text" id="add_Module"> </td>
        </tr>
        <tr>
          <td> Description </td>
          <td> <input class="input_box" type="text" id="add_Description"> </td>
        </tr>
        <br></br>

        <button type="button" id="append_row" style="float:right; font-size:15px; font-weight : bold;" onclick="test()">서버 추가</button>
      </div>
    </div>
    </script>
    <script>
    function oksSwitchTab(tab_id, tab_content) {
        // first of all we get all tab content blocks (I think the best way to get them
        // by class names)
        console.log("fnc op");
        var x = document.getElementsByClassName("tabcontent");
        //var x = document.getElementsByClassName("wrap");
        var i;
        console.log(x.length);
        for (i = 0; i < x.length; i++) {
            x[i].style.display = 'none'; // hide all tab content
        }
        document.getElementById(tab_content).style.display = 'block'; // display the content of the tab we need

        // now we get all tab menu items by class names (use the next code only if you need to highlight current tab)
        var x = document.getElementsByClassName("tabmenu");
        var i;
        for (i = 0; i < x.length; i++) {
            x[i].className = 'tabmenu';
        }
        document.getElementById(tab_id).className = 'tabmenu active';
    }


      Vue.component('view-section', {
        template: '#view-template'
      });

      Vue.component('input-section', {
        template: '#input-template'
      });

      // view section
      new Vue({
        el: '#view_section'
      });
      // input section
      new Vue({
        el: '#input_section'
      });

      $("#append_row").on("click", function() {
        var len = Number($("#list_table tr").length);
        console.log("len1 : " + len);
        var index;
        len -= 1;
        console.log("len2 : " + len);
        index = (len - 1) * 11;

        console.log("index : " + index);

        var str = document.getElementsByTagName('td')[index].childNodes[0].nodeValue;
        console.log("AAA : "+ str);

        //if(temp == '') return;

    	  $("#list_table").append(
      		$("<tr>").append(
            $("<td>").append( Number(str) + 1 ),
      			$("<td>").append( $("#add_Port").val() ),
      			$("<td>").append( $("#add_RootID").val() ),
            $("<td>").append( $("#add_Password").val() ),
            $("<td>").append( ),
            $("<td>").append( $("#add_Role").val() ),
            $("<td>").append( $("#add_OutCompID").val() ),
            $("<td>").append( $("#add_Module").val() ),
            $("<td>").append( $("#add_Description").val() ),
      			$("<td>").append(
      				$("<a>").prop("href", "#").addClass("delete-link").append("DEL")
      			),
            $("<td>").append(
      				$("<a>").prop("href", "https://naikiki87.github.io/naikiki-repo/mainUI.html").addClass("show-link").append("LINK")
      			)
      		)
      	);
        $("#add_ID").val('');
        $("#add_Port").val('');
        $("#add_RootID").val('');
        $("#add_Password").val('');
        $("#add_Role").val('');
        $("#add_OutCompID").val('');
        $("#add_Module").val('');
        $("#add_Description").val('');
      });


      $("#list_table").on("click", ".delete-link", function () {
      	$(this).parent().parent().remove();
      });

      $("#list_table").on("click", ".show-link", function () {
      	console.log("Hello");
      });

    </script>
  </body>
</html>
